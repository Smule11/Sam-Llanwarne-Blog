<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sam Llanwarne">
<meta name="dcterms.date" content="2022-12-19">

<title>SamLlan Blog - Making a Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">SamLlan Blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../paperSummaries.html">
 <span class="menu-text">Paper Summaries</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../academicFormations.html">
 <span class="menu-text">Academic Formation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../howTo.html">
 <span class="menu-text">How To</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#instructions" id="toc-instructions" class="nav-link active" data-scroll-target="#instructions"><ins>Instructions</ins></a></li>
  <li><a href="#other-blogs" id="toc-other-blogs" class="nav-link" data-scroll-target="#other-blogs"><ins>Other blogs</ins></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Making a Blog</h1>
  <div class="quarto-categories">
    <div class="quarto-category">How To</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sam Llanwarne </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 19, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<hr>
<p>Here I try to succinctly explain how I made this blog…</p>
<p>I am following <a href="https://baileyandrew.github.io/Blog/2022tuedec13.html">Bailey’s blog</a> which has led me on a chain through <a href="https://nbdev.fast.ai/tutorials/blogging.html">fastai’s nbdev websites</a> and ultimately to <a href="https://quarto.org/docs/websites/website-blog.html">Quarto’s blogging website</a>.</p>
<details>
<summary>
What are these blogging templates, Jekyll, fastai’s nbdev and Quarto?
</summary>
<br>
<ul>
Jekyll is Githubs default blogging template. FastAI built FastPages to facilitate notebook embedding in Jekyll blogs. Then Quarto came which is a standalone notebook blogging template. FastAI changed their software to run on Quarto rather than Jekyll. You can access Quarto through FastAI’s nbdev package, but I don’t need all the nbdev extra features, so am just using Quarto now.
</ul>
</details>
<p>Quarto is, at its heart, just software which slightly tidies up R and Python markdown scripts into cleaner documents, for scientific publishing.</p>
<hr>
<p><br></p>
<section id="instructions" class="level3">
<h3 class="anchored" data-anchor-id="instructions"><ins>Instructions</ins></h3>
<p><br> A) Download and Install Quarto. Create empty github repo and empty local folder.</p>
<p><font color="#F87217">I create this .ipynb notebook file, called index.ipynb. </font></p>
<p><font color="#F87217">I <strong>installed</strong> <a href="https://quarto.org/docs/get-started/">Quarto</a>.</font></p>
<p><font color="#F87217">I <strong>installed</strong> the Quarto extension in <a href="https://quarto.org/docs/get-started/hello/vscode.html">VS Code</a> (can also do this in R studio, Jupyter or using the terminal),</font></p>
<p><font color="#F87217">I create an empty github repo online, with no readme file.</font></p>
<p><font color="#F87217">I create an empty folder/directory/repo locally/offline with a similar/the same name.</font></p>
<details>
<summary>
Additional links and thoughts
</summary>
<br>
<ul>
<p>I found some of these git commands <a href="https://www.techielass.com/convert-a-folder-to-a-git-repository/">here</a> and the rest on the github website.</p>
<p>Also, to change hard drive, in a windows terminal I google’d it https://www.digitalcitizen.life/command-prompt-how-use-basic-commands/ and it says just to first type D: or C: to change the drive, and then go <strong>cd <em>filepath</em></strong>.</p>
<p>I realised I have to edit the .ipynb notebook file slightly, see here https://quarto.org/docs/tools/vscode.html. I specifically scrolled down to the section on notebooks, Notebook Editor. This gave some of the final information on how to structure the .ipynb or .qmd files.</p>
</ul>
</details>
<p><br> B) Auto-populate local folder and push online</p>
<ul>
<p>Full instructions here - <a href="https://quarto.org/docs/websites/website-blog.html">https://quarto.org/docs/websites/website-blog.html</a></p>
</ul>
<p><font color="#F87217">I open this folder in VS Code.</font></p>
<p><font color="#F87217"> do ctrl-shit-p and type Quarto Create Project, click it, click create blog, and create a new folder for the blog files. </font></p>
<p><font color="#F87217">I then go into the terminal and cd into this new folder, and run these commands, to move the local files online.</font></p>
<pre><code>git init 
git add .
git commit -m "add my files"
git remote add origin &lt;YOUR_NEW_EMPTY_GITHUB_REPO_URL&gt;.git
git branch -M main
git push -u origin main</code></pre>
<p><font color="#F87217">I add some YAML code in the top cell, to tell the Quarto files how to position the notebook in the website. This YAML cell should be first and of the type Raw. Again see the link above on how to do this. </font></p>
<p><font color="#F87217">I then make a folder in the posts folder, and copy this .ipynb notebook file there. It should be called index.ipynb so Quarto knows to publish it.</font></p>
<p>Apparently I should add a .gitignore to ignore a couple of the crazy folders or something, as they might change a lot.</p>
<p><br> C) Finishing touches.</p>
<ul>
<p>Full instructions here - <a href="https://quarto.org/docs/publishing/github-pages.html">https://quarto.org/docs/publishing/github-pages.html</a></p>
</ul>
<p><font color="#F87217">I change the _quarto.yml file, to say publish to docs, not in posts. </font></p>
<p><font color="#F87217">I make sure I am in the right folder/directory and add a .nojekyll as they say in the link above. </font></p>
<p><font color="#F87217">I can push the local changes to github online through VS code.</font></p>
<p><font color="#F87217">I change the pages tab in the settings on Github to say publish from the docs folder, making the website go live. </font></p>
<p><font color="#F87217">I changed the theme to have a dark and light one, as in the link above. </font></p>
<p><font color="#F87217">You can add more .ipynb pages locally on your computer, with the appropriate YAML heading, but then you must Quarto render the site to generate the actual HTML website files (as explained on the website and for me I have to press ctrl-shift-p in VS Code)!</font></p>
<details>
<summary>
Additional links and thoughts
</summary>
<br>
<ul>
<p>The YAML at the top of each .ipynb or .qmd file controls the appearance of that file. e.g. * tags * contents side bar * date * blog name * potentially the blog summary * position of features, colours etc.</p>
</ul>
</details>
<p><a href="blog_folder_structure.png"><img src="blog_folder_structure.png" width="75%"></a></p>
<p><br></p>
</section>
<section id="other-blogs" class="level3">
<h3 class="anchored" data-anchor-id="other-blogs"><ins>Other blogs</ins></h3>
<p>Creating a blog in a template is easier than coding a website yourself, although I still think this is very easy for a basic website. But incorporating more complex features and making it look nicer is easier with a template. Jekyll is one template people use:</p>
<ul>
<li><a href="https://ysbecca.github.io/">Rebecca Stone</a> | <a href="">github code</a></li>
<li>[Mary Paterson] (hyperlink) | <a href="">github code</a></li>
<li><a href="https://fabianfuchsml.github.io/">Fabian Fuchs</a> | <a href="">github code</a></li>
</ul>
<p>But I agreed with Bailey, that doing a template that centres on .ipynb notebooks rather than straight .md markdown files is slightly better, as notebooks include markdown cells, but also code cells. So you can run code offline and the blog post can be more easily code centred. Also other people can copy the notebook and run it themselves which is useful.</p>
<p>Nbdev Blogs</p>
<ul>
<li><a href="https://baileyandrew.github.io/Blog/2022tuedec13.html">Bailey’s blog</a>.</li>
</ul>
<p>Quarto blogs</p>
<ul>
<li><a href="https://blog.djnavarro.net/">Danielle Navarro</a> | <a href="https://github.com/djnavarro/quarto-blog/">github code</a>
<ul>
<li>Also her main website homepage, links to her blog, <a href="https://djnavarro.net/">here</a> | <a href="https://github.com/djnavarro/djnavarro.github.io/blob/main/docs/index.html">github code</a></li>
</ul></li>
<li><a href="https://samanthacsik.github.io/talks_workshops/2022-08-05-creating-your-personal-website-using-quarto/">Samantha Csik</a> | <a href="https://github.com/samanthacsik/samanthacsik.github.io">github code</a></li>
</ul>
<p>A more homemade blog:</p>
<ul>
<li><a href="https://chrisfrew.in/">Chris Frewin</a> basically he says:
<ul>
<li>follow your heart</li>
<li>working in a startup when you feel a real affinity with it is decent
<ul>
<li>work is hard but feels good; great rewards; low risk.</li>
</ul></li>
<li>working for yourself if you want and you have the drive can be the best
<ul>
<li>work can be the hardest or the easiest; correspondingly variable rewards; high risk (potentially v good or v bad).</li>
</ul></li>
<li>there’s no real reason to work at a big company except it can make you look “good” to other employers
<ul>
<li>easiest but not that fulfilling work; a consistent but less than average reward; low risk.</li>
</ul></li>
</ul></li>
</ul>
<p><br></p>
<details>
<summary>
<font color="mediumorchid">Initial attempt making the blog</font>
</summary>
<br>
<ul>
<p>I went to follow <a href="https://baileyandrew.github.io/Blog/2022tuedec13.html">Bailey’s blog</a> which is built using FastAI’s nbdev package! I stopped halfway through and changed to pure Quarto.</p>
<p>FastAI’s nbdev is a package which includes notebook blogging, which is built on Quarto’s notebook blogging software. Now FastAI say <font color="blue">Quarto</font> is simpler to use if you only want to blog, although you will miss other nbdev features.</p>
<details>
<summary>
<font color="mediumorchid">Failed Quick Attempt Which Almost Worked</font>
</summary>
<br>
<ul>
<p><font color="mediumorchid">I tried a quick method to fork <a href="https://github.com/BaileyAndrew/Blog">Bailey’s github</a> to my github, creating a new repo, without installing any nbdev software. </font></p>
<p><font color="mediumorchid">I opened github desktop which is connected to my online github account, and chose to clone the online blog repo to a local folder on my computer. Here I can edit the blog files. </font></p>
<p>I edit the files in VS code. There are many other ways to clone a repository to your local device and edit .ipynb files such as in Jupyter and on Google Colab!</p>
<p>I could do another blog on setting up Github in VS code. Making this blog is a good learning experience with Github too (like any casual sustained effort using something is a good learning experience).</p>
<p><font color="mediumorchid">I then deleted all the current blog .ipynb files in the Blog folder locally, and inserted this file into the nbs folder. Here in VS code I now stage, commit and push the changes to the online repo. </font></p>
<p>The main index file, which is the home page, I should edit.</p>
<p><font color="mediumorchid"> I went into the online github repo and the files had been updated. This .ipynb making a blog notebook was there. I then went into settings and on the side found Pages, and chose the branch to make the website active. I chose the main default branch. I refresh the page, the website is live. </font></p>
BUT… Things did not work 100% because when I was making the .ipynb blog posts I shouldn’t just copy Bailey’s and make the .ipynb notebooks manually. I should make them with nbdev. This is because the nbdev command to make an ipynb seems to manage and update all the extra files in the repository/folder which embed the notebook in the HTML website.
</ul>
</details>
<p>After just trying to clone Bailey’s nbdev blog repo, I realised I really should do a new nbdev install to get a new template of the blog in a new repo. When you run new nbdev to populate the empty repo it contains user specific info, so cloning will copy across the old user’s name and stuff. Also you need nbdev to create a notebook, as it simultaneously adjusts other files to recognise this new notebook.</p>
<details>
<summary>
Hi Chat_GPT, can you explain what <strong>nbdev_new</strong> is?
</summary>
<br>
<ul>
<p>‘nbdev_new’ is a command provided by the ‘nbdev’ library, which is a tool for developing and documenting Python projects using Jupyter notebooks. The ‘nbdev_new’ command is used to create a new project directory structure and initial configuration files for a project that will be developed with ‘nbdev’.</p>
<p>Here is an example of how to use ‘nbdev_new’ to create a new project:</p>
<pre><code>$ nbdev_new my_project</code></pre>
<p>This will create a new directory called ‘my_project’ with the following structure:</p>
<pre><code>my_project/
├── README.md
├── index.ipynb
├── docs/
│   ├── index.ipynb
├── nbdev/
│   ├── __init__.py
│   ├── core.py
│   ├── tests/
│   └── ...
├── setup.py
└── requirements.txt</code></pre>
<p>The ‘README.md’ file contains information about your project, and the ‘index.ipynb’ file is the entry point for your documentation. The ‘docs’ directory contains the source notebooks for your documentation, and the ‘nbdev’ directory contains the source code for your project. The ‘setup.py’ file is used to package your project for distribution, and the ‘requirements.txt’ file lists the dependencies that your project needs.</p>
You can then use the ‘nbdev’ library to build and publish your project, as well as to generate documentation from the notebooks in the ‘docs’ directory.
</ul>
</details>
<p><font color="mediumorchid">I clone the online empty Github repo <em>notebookBlog</em> down to my local computer using Github Desktop. </font></p>
<p>Using Github Desktop to clone a new repo down from Github.com to your local desktop is decently easy, and includes the .git file which connects it with the online branch too which is good.</p>
<p>SO actually I am growing used to using Github Desktop to clone online repos to my local storage now (after a couple of stop-start hesitations). Bailey cloned it down using the terminal and the git command “git clone …” and this works well too. There are a few other ways to clone an online repo to local storage, the main thing is you want the two folders (online and local offline) to be linked by the .git file.</p>
<p>We need to install nbdev, which contains the python command package <strong>nbdev_new</strong> to instantiate a blog specific to us.</p>
<p>I realise I should have created a new python environment, so I could fully work out which packages are needed (maybe I already have some installed which I won’t mention here). But I am just using my main environment which already has some packages/modules installed.</p>
<p>To see more about nbdev, https://pypi.org/project/nbdev/</p>
<p><font color="mediumorchid">I run <strong>pip install nbdev</strong> in the terminal. </font></p>
<p><font color="mediumorchid">Then, still roughly following Bailey’s blog, I cd (change directory) into the empty repo/folder in a terminal, and go into python and run the line -</font></p><font color="mediumorchid">
</font><p><font color="mediumorchid"><strong>nbdev_new</strong> </font></p>
Things don’t work and I question what I’m doing and go back to the documentation. Here I realise that I am perhaps unnecessarily going through nbdev to use Quarto, and maybe it is simpler to just use Quarto straight. I give up with nbdev and go to use Quarto. I believe it is a little simpler.
</ul>
</details>
<p><br></p>
<p>Thanks for reading!</p>
<p><br> <br></p>
<p><font color="#F87217"> </font></p>
<hr>
<p>Some useful website links</p>
<ul>
<li><a href="https://quarto.org/">Quarto</a></li>
<li><a href="https://nbdev.fast.ai/tutorials/blogging.html">nbdev</a></li>
<li><a href="https://www.computerhope.com/htmcolor.htm">HTML Colours</a></li>
<li><a href="https://unsplash.com/photos/CiUR8zISX60">Unsplash - open source images</a></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>